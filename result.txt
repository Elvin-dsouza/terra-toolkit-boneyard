Started: 04/16/2020 09:18:05

PASS tests/jest/parse-list.test.js
    ✓ parses ['en'] to ["en"] (7ms)
    ✓ parses ['en','en-US'] to ["en", "en-US"]
  Parse CLI List

PASS tests/jest/validateElement.test.js
    ✓ calls the appropriate methods downstream with all arguments (8ms)
    ✓ does not use context option
    ✓ calls the appropriate methods downstream with defaults (1ms)
  validateElement

PASS tests/jest/config/configUtils.test.js
    ✓ returns undefined when invalid (5ms)

    ✓ returns file when valid (4ms)
  dynamicRequire
PASS tests/jest/determine-test-options.test.js
  screenshotOptions
    ✓ returns defaults (8ms)
    ✓ honors custom name
    ✓ honors custom selector (1ms)
    ✓ honors custom viewports
    ✓ honors custom name and options (1ms)
      ✓ accepts mismatch of 0
  axeOptions
    ✓ returns defaults
      ✓ accepts mismatch greater than 0
    ✓ honors custom rule (1ms)
    ✓ honors custom rule
    honors custom misMatchTolerance
    ✓ honors custom viewports
    ✓ cannot specify runOnly options

PASS tests/jest/chai-methods.test.js
  getComparisonResults
    ✓ guards against an empty array of screenshots (5ms)

PASS tests/jest/config/wdio/selenium.config.test.js
      ✓ returns chrome by default (3ms)
      ✓ returns chrome when defined via browsers env (1ms)
      ✓ returns chrome when seleniumGridUrl env and browsers env
      ✓ does not return chrome when chrome is not defined (1ms)
    firefox capabilities
      ✓ returns firefox when defined via browsers env (1ms)
      ✓ returns firefox when seleniumGridUrl env but no browsers env
    ie capabilities
      ✓ returns firefox when seleniumGridUrl env and browsers env (1ms)
      ✓ does not return ie when defined via browsers env and not seleniumGridUrl
      ✓ returns ie when seleniumGridUrl env but no browsers env (1ms)
      ✓ returns ie when seleniumGridUrl env and browsers env

    chrome capabilities
      ✓ returns chrome when seleniumGridUrl env but no browsers env (1ms)
  Wdio Selenium Configuration
  Remove Css Modules Pseudo Classes
    ✓ removes local nested
PASS tests/jest/config/webpack/postcss/_removeCssModulesPseudoClasses.test.js
    ✓ removes local from this weird selector (1ms)
    ✓ removes local end
    ✓ removes nothing (9ms)
    ✓ removes global nested
    ✓ removes global on multiple selectors (6ms)
    ✓ removes global from this weird selector (1ms)
    ✓ removes global end

    ✓ removes local on multiple selectors (1ms)
    ✓ removes local (1ms)
    ✓ removes global (1ms)
  Theme Plugin
    ✓ does nothing if no selectors match (1ms)
    ✓ removes unlisted supported themes (1ms)
PASS tests/jest/config/webpack/postcss/ThemePlugin.test.js
    ✓ clones the default theme to root (8ms)
    ✓ does not remove listed selectors

FAIL tests/jest/aggregate-themes.test.js
      ✓ does not warn if there is a default theme but not a scoped theme (4ms)
      ✓ warns if there is not a default theme or a scoped theme (2ms)
    aggregate
      ✓ returns null if there is no terra-theme-config.js and no config passed by env var. (1ms)
      ✕ uses the supplied config (7ms)
      ✕ overrides the supplied config (3ms)
    aggregateThemes
      ✓ returns null for blank default theme and empty scoped theme - { theme: '', scoped: [] }
      ✓ returns null for undefined default and scoped themes - { theme: undefined, scoped: undefined }
      ✓ returns null for blank default theme and blank scoped theme - { theme: '', scoped: [''] } (1ms)
      ✓ returns null for null default and scoped themes - { theme: null, scoped: null }
      ✓ returns null for null default theme and null + unknown scoped themes - { theme: null, scoped: [null, 'non-existent'] } (1ms)
      ✓ returns null for unknown default theme and blank scoped theme - { theme: 'unknown-theme', scoped: [] }
      ✓ returns the aggregated and generated root + scoped themes for a defined default theme and defined scope theme (1ms)
      ✓ aggregates the default theme as a scoped theme (1ms)
      ✓ returns the aggregated and generated root theme for a blank default theme and defined scope theme (1ms)
      ✓ returns the generated scoped theme for a blank default theme and defined scope theme (1ms)
      ✓ returns aggregated and generated default theme for a defined default theme and unknown scope theme (1ms)
      ✓ returns the aggregated and generated default theme for a defined default theme and empty scope theme (1ms)
      ✓ returns the generated scoped theme for a blank default theme and defined scope theme (1ms)
      ✓ returns null if a blank theme is passed
    triggerAggregationAndGeneration
      ✓ returns an array of aggregated and generated scoped theme files paths
      ✓ returns an array of aggregated and generated default theme file paths (1ms)
    findThemeVariableFilesForGeneration
      ✓ returns the requested theme's files (1ms)
    find
      ✓ returns the requested files.
    validate
      ✓ returns an empty array if no match was found
      ✓ returns the requested files excluding the specified file
    resolve
      ✓ resolves a relative file path
    generateTheme
      ✓ returns the generated SCSS file path relative to the given output path. (1ms)
      ✓ resolves a file path from the node_modules directory (1ms)
  Theme Aggregator
  ● Theme Aggregator › aggregate › uses the supplied config

    expect(received).toEqual(expected) // deep equality

    Expected: "/opt/module/generated-themes/aggregated-themes.js"
    Received: "/Users/sn081183/Desktop/terra-toolkit-boneyard/generated-themes/aggregated-themes.js"

      66 |       const expected = '/opt/module/generated-themes/aggregated-themes.js';
      67 | 
    > 68 |       expect(file).toEqual(expected);
         |                    ^
      69 |     });
      70 | 
      71 |     it('overrides the supplied config', () => {

      at Object.<anonymous> (tests/jest/aggregate-themes.test.js:68:20)

  ● Theme Aggregator › aggregate › overrides the supplied config

    expect(received).toEqual(expected) // deep equality

    Expected: "/opt/module/generated-themes/aggregated-themes.js"
    Received: "/Users/sn081183/Desktop/terra-toolkit-boneyard/generated-themes/aggregated-themes.js"

      80 |       const expected = '/opt/module/generated-themes/aggregated-themes.js';
      81 | 
    > 82 |       expect(file).toEqual(expected);
         |                    ^
      83 |     });
      84 |   });
      85 | 

      at Object.<anonymous> (tests/jest/aggregate-themes.test.js:82:20)

      ✓ returns the requested directory (1ms)
      ✓ does not warn if there is a scoped theme but not a default theme

PASS tests/jest/config/webpack/webpack.config.test.js
    dev or prod config
      ✓ aggregates translations by default (2ms)
  webpack config
      ✓ adds the plugins (1ms)
      ✓ adds resolve extensions
      ✓ add the polyfills as default entries (2ms)
      ✓ add the module rules (2ms)
      ✓ adds resolve modules (1ms)
      ✓ does not include resolve alias
      ✓ adds a module resolver loader
      ✓ add the output config (1ms)
      ✓ disabled stats on children
    dev webpack config specifics
      ✓ sets configuration mode to production
      ✓ add devtool option (1ms)
      ✓ replace the output with dev config
    prod webpack config specifics
      ✓ sets configuration mode to production
      ✓ removes devtool option (1ms)
      ✓ adds the CleanWebpackPlugin
      ✓ replace the output with prod config
      ✓ optimizes production assets
    accepts disableAggregateTranslations env variable
      ✓ and it does not add aggregated-translations to resolve modules (1ms)
      ✓ and it does not aggregate translations
      ✓ should add the TERRA_AGGREGATED_LOCALES global as undefined if locale aggregation is disabled
    accepts aggregateOptions env variable
      ✓ and it aggregates translations with these options
      ✓ should add the TERRA_AGGREGATED_LOCALES global with the translation locale options
    accepts disableHotReloading env variable

      ✓ and adds to dev server options
EndDate: 04/16/2020 09:18:10

