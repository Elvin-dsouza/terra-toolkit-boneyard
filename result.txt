PASS tests/jest/chai-methods.test.js
  getComparisonResults
    ✓ guards against an empty array of screenshots (5ms)

PASS tests/jest/parse-list.test.js
  Parse CLI List
    ✓ parses ['en'] to ["en"] (6ms)
    ✓ parses ['en','en-US'] to ["en", "en-US"]

PASS tests/jest/config/configUtils.test.js
    ✓ returns file when valid (5ms)
    ✓ returns undefined when invalid (5ms)
  dynamicRequire

PASS tests/jest/determine-test-options.test.js
    ✓ honors custom name
    ✓ honors custom viewports (1ms)
    ✓ honors custom name and options (1ms)
    honors custom misMatchTolerance
      ✓ accepts mismatch greater than 0
      ✓ accepts mismatch of 0 (1ms)
  axeOptions
    ✓ returns defaults (7ms)
    ✓ honors custom viewports (1ms)
    ✓ honors custom rule
    ✓ honors custom rule
    ✓ cannot specify runOnly options

    ✓ returns defaults
  screenshotOptions
    ✓ honors custom selector
PASS tests/jest/validateElement.test.js
    ✓ calls the appropriate methods downstream with defaults (1ms)
    ✓ calls the appropriate methods downstream with all arguments (8ms)
  validateElement
    ✓ does not use context option (1ms)

PASS tests/jest/config/wdio/selenium.config.test.js
  Wdio Selenium Configuration
      ✓ returns chrome when seleniumGridUrl env but no browsers env (1ms)
      ✓ returns chrome when seleniumGridUrl env and browsers env
      ✓ returns chrome by default (4ms)
    firefox capabilities
      ✓ returns firefox when defined via browsers env
      ✓ returns firefox when seleniumGridUrl env but no browsers env (1ms)
      ✓ returns firefox when seleniumGridUrl env and browsers env
    ie capabilities
      ✓ does not return ie when defined via browsers env and not seleniumGridUrl (6ms)
      ✓ returns ie when seleniumGridUrl env but no browsers env (1ms)
      ✓ returns ie when seleniumGridUrl env and browsers env

      ✓ does not return chrome when chrome is not defined (2ms)
      ✓ returns chrome when defined via browsers env (1ms)
    chrome capabilities
PASS tests/jest/config/webpack/postcss/_removeCssModulesPseudoClasses.test.js
  Remove Css Modules Pseudo Classes
    ✓ removes nothing (8ms)
    ✓ removes local from this weird selector (1ms)
    ✓ removes local end
    ✓ removes global
    ✓ removes global nested (1ms)
    ✓ removes global on multiple selectors
    ✓ removes global from this weird selector (1ms)
    ✓ removes local (7ms)

    ✓ removes local on multiple selectors
    ✓ removes global end
    ✓ removes local nested (1ms)
PASS tests/jest/config/webpack/postcss/ThemePlugin.test.js
  Theme Plugin
    ✓ clones the default theme to root (7ms)
    ✓ removes unlisted supported themes (1ms)
    ✓ does nothing if no selectors match (1ms)
    ✓ does not remove listed selectors

FAIL tests/jest/aggregate-themes.test.js
  Theme Aggregator
      ✓ warns if there is not a default theme or a scoped theme (1ms)
    aggregate
      ✓ returns null if there is no terra-theme-config.js and no config passed by env var. (1ms)
      ✕ uses the supplied config (8ms)
      ✕ overrides the supplied config (1ms)
    aggregateThemes
      ✓ returns null for undefined default and scoped themes - { theme: undefined, scoped: undefined } (1ms)
      ✓ returns null for blank default theme and empty scoped theme - { theme: '', scoped: [] }
      ✓ returns null for blank default theme and blank scoped theme - { theme: '', scoped: [''] }
      ✓ returns null for null default and scoped themes - { theme: null, scoped: null } (1ms)
      ✓ returns null for null default theme and null + unknown scoped themes - { theme: null, scoped: [null, 'non-existent'] }
      ✓ returns null for unknown default theme and blank scoped theme - { theme: 'unknown-theme', scoped: [] }
      ✓ returns the aggregated and generated root + scoped themes for a defined default theme and defined scope theme (2ms)
      ✓ aggregates the default theme as a scoped theme (1ms)
      ✓ returns the aggregated and generated root theme for a blank default theme and defined scope theme (1ms)
      ✓ returns the generated scoped theme for a blank default theme and defined scope theme (1ms)
      ✓ returns aggregated and generated default theme for a defined default theme and unknown scope theme
      ✓ returns the aggregated and generated default theme for a defined default theme and empty scope theme (1ms)
      ✓ returns the generated scoped theme for a blank default theme and defined scope theme
    triggerAggregationAndGeneration
      ✓ returns null if a blank theme is passed (1ms)
      ✓ returns an array of aggregated and generated default theme file paths (1ms)
      ✓ returns an array of aggregated and generated scoped theme files paths
    findThemeVariableFilesForGeneration
      ✓ returns the requested theme's files (1ms)
    find
      ✓ returns the requested files.
      ✓ returns the requested directory
      ✓ returns an empty array if no match was found
      ✓ returns the requested files excluding the specified file
    resolve
      ✓ resolves a file path from the node_modules directory (1ms)
      ✓ resolves a relative file path
    generateTheme
      ✓ returns the generated SCSS file path relative to the given output path. (1ms)
      ✓ does not warn if there is a scoped theme but not a default theme
  ● Theme Aggregator › aggregate › uses the supplied config

    expect(received).toEqual(expected) // deep equality

    Expected: "/opt/module/generated-themes/aggregated-themes.js"
    Received: "/Users/sn081183/Desktop/terra-toolkit-boneyard/generated-themes/aggregated-themes.js"

      66 |       const expected = '/opt/module/generated-themes/aggregated-themes.js';
      67 | 
    > 68 |       expect(file).toEqual(expected);
         |                    ^
      69 |     });
      70 | 
      71 |     it('overrides the supplied config', () => {

      at Object.<anonymous> (tests/jest/aggregate-themes.test.js:68:20)

  ● Theme Aggregator › aggregate › overrides the supplied config

    expect(received).toEqual(expected) // deep equality

    Expected: "/opt/module/generated-themes/aggregated-themes.js"
    Received: "/Users/sn081183/Desktop/terra-toolkit-boneyard/generated-themes/aggregated-themes.js"

      80 |       const expected = '/opt/module/generated-themes/aggregated-themes.js';
      81 | 
    > 82 |       expect(file).toEqual(expected);
         |                    ^
      83 |     });
      84 |   });
      85 | 

      at Object.<anonymous> (tests/jest/aggregate-themes.test.js:82:20)

      ✓ does not warn if there is a default theme but not a scoped theme (4ms)

    validate
PASS tests/jest/config/webpack/webpack.config.test.js
  webpack config
      ✓ aggregates translations by default (3ms)
    dev or prod config
      ✓ add the polyfills as default entries (1ms)
      ✓ add the module rules (2ms)
      ✓ adds the plugins (1ms)
      ✓ adds resolve extensions
      ✓ adds resolve modules (1ms)
      ✓ does not include resolve alias
      ✓ adds a module resolver loader
      ✓ add the output config (1ms)
      ✓ disabled stats on children
    dev webpack config specifics
      ✓ sets configuration mode to production (1ms)
      ✓ add devtool option
      ✓ replace the output with dev config
      ✓ sets configuration mode to production
    prod webpack config specifics
      ✓ adds the CleanWebpackPlugin (1ms)
      ✓ removes devtool option
      ✓ replace the output with prod config
      ✓ optimizes production assets
    accepts disableAggregateTranslations env variable
      ✓ and it does not aggregate translations (1ms)
      ✓ and it does not add aggregated-translations to resolve modules
      ✓ should add the TERRA_AGGREGATED_LOCALES global as undefined if locale aggregation is disabled
    accepts aggregateOptions env variable
      ✓ and it aggregates translations with these options
      ✓ should add the TERRA_AGGREGATED_LOCALES global with the translation locale options
    accepts disableHotReloading env variable
      ✓ and adds to dev server options (1ms)

